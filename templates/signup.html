<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - LumiLens</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <div class="auth-container">
        <div class="auth-card">
            <h1>Create Account</h1>
            <p class="auth-subtitle">Join LumiLens today</p>

            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
            {% endif %}
            {% endwith %}

            <form method="POST" action="{{ url_for('signup') }}">
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" name="name" required placeholder="John Doe">
                </div>

                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" required placeholder="you@example.com">
                </div>

                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone" required placeholder="+1-555-0100">
                </div>

                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" required placeholder="••••••••">
                </div>

                <div class="form-group">
                    <label for="role">I am a</label>
                    <select id="role" name="role" required onchange="togglePhotographerFields()">
                        <option value="client">Client (Looking to book)</option>
                        <option value="photographer">Photographer</option>
                    </select>
                </div>

                <div id="photographer-fields" style="display: none;">
                    <div class="form-group">
                        <label for="location">Location</label>
                        <input type="text" id="location" name="location" placeholder="e.g. New York, NY">
                    </div>
                    <div class="form-group">
                        <label for="specialization">Photography Type</label>
                        <select id="specialization" name="specialization">
                            <option value="Wedding">Wedding</option>
                            <option value="Portrait">Portrait</option>
                            <option value="Event">Event</option>
                            <option value="Fashion">Fashion</option>
                            <option value="Product">Product</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="experience">Years of Experience</label>
                        <input type="number" id="experience" name="experience" placeholder="e.g. 5">
                    </div>
                    <div class="form-group">
                        <label for="price">Price per Session (₹)</label>
                        <input type="number" id="price" name="price" placeholder="e.g. 500">
                    </div>
                    <div class="form-group">
                        <label for="bio">Short Bio</label>
                        <textarea id="bio" name="bio" rows="3" placeholder="Tell us about yourself..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>Portfolio Image URLs</label>
                        <input type="url" name="portfolio1" placeholder="URL 1" style="margin-bottom: 5px;">
                        <input type="url" name="portfolio2" placeholder="URL 2" style="margin-bottom: 5px;">
                        <input type="url" name="portfolio3" placeholder="URL 3">
                    </div>
                </div>

                <button type="submit" class="btn btn-primary btn-full">Create Account</button>
            </form>

            <script>
                function togglePhotographerFields() {
                    const role = document.getElementById('role').value;
                    const fields = document.getElementById('photographer-fields');
                    const inputs = fields.querySelectorAll('input, select, textarea');
                    if (role === 'photographer') {
                        fields.style.display = 'block';
                        inputs.forEach(input => input.setAttribute('required', 'true'));
                    } else {
                        fields.style.display = 'none';
                        inputs.forEach(input => input.removeAttribute('required'));
                    }
                }
            </script>

            <p class="auth-footer">
                Already have an account? <a href="{{ url_for('login') }}">Sign in</a>
            </p>
        </div>
    </div>
</body>

</html>